const cityTraffic = require('./city_traffic');

describe('cityTraffic()', () => {
    test('passes Coderbyte.com tests', () => {
        expect(
            cityTraffic([
                '1:[5]',
                '4:[5]',
                '3:[5]',
                '5:[1,4,3,2]',
                '2:[5,15,7]',
                '7:[2,8]',
                '8:[7,38]',
                '15:[2]',
                '38:[8]'
            ])
        ).toBe('1:82,2:53,3:80,4:79,5:70,7:46,8:38,15:68,38:45');

        expect(
            cityTraffic(['1:[5]', '2:[5]', '3:[5]', '4:[5]', '5:[1,2,3,4]'])
        ).toBe('1:14,2:13,3:12,4:11,5:4');

        expect(
            cityTraffic([
                '1:[5]',
                '2:[5,18]',
                '3:[5,12]',
                '4:[5]',
                '5:[1,2,3,4]',
                '18:[2]',
                '12:[3]'
            ])
        ).toBe('1:44,2:25,3:30,4:41,5:20,12:33,18:27');

        expect(cityTraffic(['1:[12]', '12:[1]'])).toBe('1:12,12:1');

        expect(
            cityTraffic(['4:[100]', '100:[4,67]', '67:[100,12]', '12:[67]'])
        ).toBe('4:179,12:171,67:104,100:79');

        expect(
            cityTraffic([
                '4:[100]',
                '100:[4,67]',
                '67:[100,12,89]',
                '12:[67]',
                '89:[67]'
            ])
        ).toBe('4:268,12:260,67:104,89:183,100:168');

        expect(
            cityTraffic([
                '12:[4]',
                '82:[4]',
                '4:[12,82,90]',
                '90:[4,105]',
                '105:[90]'
            ])
        ).toBe('4:195,12:281,82:211,90:105,105:188');

        expect(
            cityTraffic([
                '1:[2]',
                '3:[2]',
                '4:[2]',
                '2:[1,3,4,8]',
                '8:[2,67,14]',
                '67:[8]',
                '14:[8]'
            ])
        ).toBe('1:98,2:89,3:96,4:95,8:67,14:85,67:32');

        expect(
            cityTraffic([
                '1:[5]',
                '4:[5]',
                '3:[5]',
                '5:[1,4,3,2]',
                '2:[5,15,7]',
                '7:[2,8]',
                '8:[7,38]',
                '15:[2]',
                '38:[8,104]',
                '104:[38]'
            ])
        ).toBe(
            '1:186,2:157,3:184,4:183,5:174,7:150,8:142,15:172,38:104,104:83'
        );

        expect(cityTraffic(['56:[2]', '2:[56,12]', '3:[12]', '12:[2,3]'])).toBe(
            '2:56,3:70,12:58,56:17'
        );
    });
});
